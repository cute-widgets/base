<div class="cute-step-icon-state-{{state}} cute-step-icon" [class.cute-step-icon-selected]="selected">
  <div class="cute-step-icon-content">
    @if (iconOverrides && iconOverrides[state]) {
      <ng-container
        [ngTemplateOutlet]="iconOverrides[state]"
        [ngTemplateOutletContext]="_getIconContext()">
      </ng-container>
    } @else {
      @switch (state) {
        @case ('number') {
          <span aria-hidden="true">{{_getDefaultTextForState(state)}}</span>
        }
        @default {
          @if (state === 'done') {
            <span class="cdk-visually-hidden">{{_intl.completedLabel}}</span>
          } @else if (state === 'edit') {
            <span class="cdk-visually-hidden">{{_intl.editableLabel}}</span>
          }

          <cute-icon aria-hidden="true" fontIcon="{{_getDefaultTextForState(state)}}"></cute-icon>
        }
      }
    }
  </div>
</div>
<div class="cute-step-label"
     [class.cute-step-label-active]="active"
     [class.cute-step-label-selected]="selected"
     [class.cute-step-label-error]="state == 'error'">
  @if (_templateLabel(); as templateLabel) {
    <!-- If there is a label template, use it. -->
    <div class="cute-step-text-label">
        <ng-container [ngTemplateOutlet]="templateLabel.template"></ng-container>
    </div>
  } @else if (_stringLabel()) {
    <!-- If there is no label template, fall back to the text label. -->
    <div class="cute-step-text-label">
        <span>{{label}}</span>
    </div>
  }

  @if (optional && state != 'error') {
    <div class="cute-step-optional">{{_intl.optionalLabel}}</div>
  }

  @if (state === 'error') {
    <div class="cute-step-sub-label-error">{{errorMessage}}</div>
  }
</div>
